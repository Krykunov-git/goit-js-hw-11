{"version":3,"file":"index.js","sources":["../src/img/bi_x-octagon.png","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEoSURBVHgBrZXtEYIwDIZDT86/biKjuBFlEt0AV3EX/tB61Abo8dUkRXjvqj2bvk8KSQUgZK0tjbEuZWAs5XOhzJ0DnWXw7rruA6zU3X9ovwfyPK9AUsi8bc0LEoWx0kn+Nk+GHDEXIWeYkxDOvGmaQjKMxSwg46ReBxljCunFheTiEFvjGgzZtzpm4IM0BZlObom9rRYBFEQynwMuIOh6zbU3wmnfTChsQj8qXJP2i4A1ZAQkmaMUJEopcLG5pKQThLsJMx9/Sr57RMDcPDyW+TsRIVwVcdXClfCwvihTutH4UhwgsUbD5u0BIciY7zMGAUGxGPRaJMdB9mpjHnQGhDQ/AyKaH4Fw5ps+CNdClrnSf98A+D99pdTdOffYc330mk4iD+6x/ACnmEjn99LB/AAAAABJRU5ErkJggg==\"","const API_KEY = '47379272-a961c7172d29abe92af06f616';\n\nexport const searchParams = new URLSearchParams({\n  key: API_KEY,\n  q: 'yellow+flower',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\n\nconst BASE_URL = `https://pixabay.com/api/?${searchParams}`;\n\nexport function fetchData(url = BASE_URL, options = {}) {\n  return fetch(url, options).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        id,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        largeImageURL,\n      }) => `\n        <li data-id=\"${id}\" class=\"list__item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">                          \n            <img class=\"item-img\" src=\"${webformatURL}\" alt=\"${tags}\"/>                  \n          </a>\n          <ul class=\"item-container-list\">\n              <li class=\"container-list\">\n                <h3 class=\"item-title\">Likes</h3>\n                <p class=\"item-content\">${likes}</p>\n              </li>\n              <li class=\"container-list\">\n                <h3 class=\"item-title\">Views</h3>\n                <p class=\"item-content\">${views}</p>\n              </li>\n              <li class=\"container-list\">\n                <h3 class=\"item-title\">Comments</h3>\n                <p class=\"item-content\">${comments}</p>\n              </li>\n              <li class=\"container-list\">\n                <h3 class=\"item-title\">Downloads</h3>\n                <p class=\"item-content\">${downloads}</p>\n              </li>\n            </ul>          \n        </li>\n    `\n    )\n    .join('');\n}\n\nexport const lightbox = new SimpleLightbox('.list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iconRejected from './img/bi_x-octagon.png';\n\nimport { fetchData, searchParams } from './js/pixabay-api';\nimport { createMarkup, lightbox } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst container = document.querySelector('.list');\n\nform.addEventListener('submit', searchPicture);\n\nfunction searchPicture(event) {\n  event.preventDefault();\n  const searchMsg = event.target.elements.message.value.trim();\n  if (!searchMsg) {\n    return;\n  }\n  container.innerHTML = '<span class=\"loader\"></span>';\n\n  searchParams.set('q', searchMsg);\n  const BASE_URL = `https://pixabay.com/api/?${searchParams}`;\n\n  fetchData(BASE_URL)\n    .then(data => {\n      if (!data.total) {\n        iziToast.show({\n          theme: 'dark',\n          iconUrl: iconRejected,\n          backgroundColor: '#EF4040',\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          messageSize: '16px',\n          messageLineHeight: '150%',\n          position: 'topRight',\n          maxWidth: '354px',\n        });\n        container.innerHTML = '';\n        return;\n      }\n      container.innerHTML = createMarkup(data.hits);\n      lightbox.refresh();\n    })\n    .catch(error => {\n      iziToast.show({\n        theme: 'dark',\n        iconUrl: iconRejected,\n        backgroundColor: '#EF4040',\n        message: `Error: ${error.message}`,\n        messageSize: '16px',\n        messageLineHeight: '150%',\n        position: 'topRight',\n        maxWidth: '354px',\n      });\n      container.innerHTML = '';\n    })\n    .finally(() => {\n      event.target.reset();\n    });\n}\n"],"names":["iconRejected","API_KEY","searchParams","BASE_URL","fetchData","url","options","response","createMarkup","arr","id","webformatURL","tags","likes","views","comments","downloads","largeImageURL","lightbox","SimpleLightbox","form","container","searchPicture","event","searchMsg","data","iziToast","error"],"mappings":"6vBAAA,MAAeA,EAAA,qjBCATC,EAAU,qCAEHC,EAAe,IAAI,gBAAgB,CAC9C,IAAKD,EACL,EAAG,gBACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EAEKE,EAAW,4BAA4BD,CAAY,GAElD,SAASE,EAAUC,EAAMF,EAAUG,EAAU,CAAA,EAAI,CACtD,OAAO,MAAMD,EAAKC,CAAO,EAAE,KAAKC,GAAY,CAC1C,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CChBO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,GAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,cAAAC,CACR,IAAY;AAAA,uBACWP,CAAE;AAAA,0CACiBO,CAAa;AAAA,yCACdN,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,0CAKzBC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,0CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAK9C,EACA,KAAK,EAAE,CACZ,CAEO,MAAME,EAAW,IAAIC,EAAe,UAAW,CACpD,aAAc,MACd,aAAc,GAChB,CAAC,ECxCKC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,OAAO,EAEhDD,EAAK,iBAAiB,SAAUE,CAAa,EAE7C,SAASA,EAAcC,EAAO,CAC5BA,EAAM,eAAc,EACpB,MAAMC,EAAYD,EAAM,OAAO,SAAS,QAAQ,MAAM,OACtD,GAAI,CAACC,EACH,OAEFH,EAAU,UAAY,+BAEtBnB,EAAa,IAAI,IAAKsB,CAAS,EAC/B,MAAMrB,EAAW,4BAA4BD,CAAY,GAEzDE,EAAUD,CAAQ,EACf,KAAKsB,GAAQ,CACZ,GAAI,CAACA,EAAK,MAAO,CACfC,EAAS,KAAK,CACZ,MAAO,OACP,QAAS1B,EACT,gBAAiB,UACjB,QAAS,2EACT,YAAa,OACb,kBAAmB,OACnB,SAAU,WACV,SAAU,OACpB,CAAS,EACDqB,EAAU,UAAY,GACtB,MACD,CACDA,EAAU,UAAYb,EAAaiB,EAAK,IAAI,EAC5CP,EAAS,QAAO,CACtB,CAAK,EACA,MAAMS,GAAS,CACdD,EAAS,KAAK,CACZ,MAAO,OACP,QAAS1B,EACT,gBAAiB,UACjB,QAAS,UAAU2B,EAAM,OAAO,GAChC,YAAa,OACb,kBAAmB,OACnB,SAAU,WACV,SAAU,OAClB,CAAO,EACDN,EAAU,UAAY,EAC5B,CAAK,EACA,QAAQ,IAAM,CACbE,EAAM,OAAO,OACnB,CAAK,CACL"}